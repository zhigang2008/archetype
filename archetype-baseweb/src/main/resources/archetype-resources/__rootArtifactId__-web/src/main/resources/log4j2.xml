#set( $symbol_pound = '#' )
#set( $symbol_dollar = '$' )
#set( $symbol_escape = '\' )
<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="debug" strict="true" name="XMLConfigTest"  packages="${package}">
  <Properties>
    <Property name="filename">target/${rootArtifactId}.log</Property>
  </Properties>
  <Filter type="ThresholdFilter" level="trace"/>
 
  <Appenders>
    <Appender type="Console" name="STDOUT">
      <Layout type="PatternLayout" pattern="%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level %logger{36} - %msg%n"/>
    </Appender>
    <Appender type="Console" name="FLOW">
      <Layout type="PatternLayout" pattern="%C{1}.%M %m %ex%n"/><!-- class and line number -->
    </Appender>
    <Appender type="File" name="File" fileName="${symbol_dollar}{filename}">
      <Layout type="PatternLayout">
        <Pattern>%d %p %C{1.} [%t] %m%n</Pattern>
      </Layout>
    </Appender>
    <Appender type="File" name="log4jdbc_file" fileName="log4jdbc.out">
      <Layout type="PatternLayout">
        <Pattern>%d{HH:mm:ss.SSS} [%t] %level - %m%n%ex%n</Pattern>
      </Layout>
    </Appender>
    <Appender type="List" name="List">
    </Appender>
  </Appenders>
 
  <Loggers>
    <Logger name="EventLogger" level="error" additivity="false">
      <AppenderRef ref="STDOUT"/>
    </Logger>
    <Logger name="${package}" level="debug" additivity="false">
      <AppenderRef  ref="STDOUT"/>
      <AppenderRef  ref="File"/>
    </Logger>
    <Logger name="org.springframework.web.servlet.handler.SimpleMappingExceptionResolver" level="debug" additivity="false">
      <AppenderRef  ref="STDOUT"/>
      <AppenderRef  ref="File"/>
    </Logger>
    <!-- 开发测试阶段打开,生产环境请屏蔽 -->
    <Logger name="log4jdbc.log4j2" level="info" additivity="false">
     <MarkerFilter marker="LOG4JDBC_CONNECTION" onMatch="ACCEPT" onMismatch="DENY"/>
     <MarkerFilter marker="LOG4JDBC_OTHER" onMatch="DENY" onMismatch="NEUTRAL"/>
     <AppenderRef  ref="log4jdbc_file"/>
     <AppenderRef  ref="STDOUT"/>
    </Logger>
    <Root level="trace">
      <AppenderRef  ref="List"/>
    </Root>
  </Loggers>
 
</Configuration>